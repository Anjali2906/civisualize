SELECT COUNT(*) as count,DATE(receive_date) as receive_date, contact_type, SUM(total_amount) as total,AVG(total_amount) as avg from civicrm_contribution JOIN civicrm_contact as contact ON contact_id=contact.id  WHERE receive_date is not null AND receive_date <> '0000-00-00' group by DATE(receive_date),contact.contact_type;
